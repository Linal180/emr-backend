import {MigrationInterface, QueryRunner} from "typeorm";

export class addClaimEntity1658916711127 implements MigrationInterface {
    name = 'addClaimEntity1658916711127'

    public async up(queryRunner: QueryRunner): Promise<void> {
        await queryRunner.query(`CREATE TYPE "public"."claim_cond_enum" AS ENUM('Date of Accident', 'Date of Hospitalization')`);
        await queryRunner.query(`CREATE TYPE "public"."claim_onset_enum" AS ENUM('Initial Visit Date', 'Initial Treatment Date', 'Last Related Visit')`);
        await queryRunner.query(`CREATE TYPE "public"."claim_payer_order_enum" AS ENUM('Primary', 'Secondary', 'Tertiary')`);
        await queryRunner.query(`CREATE TABLE "claim" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "claimMdId" integer, "batchId" integer, "billNpi" integer, "billTaxId" integer, "claimId" character varying, "facilityDateOfService" character varying, "fileName" character varying, "fileId" integer, "insuranceNumber" integer, "receivePayerId" integer, "pcn" character varying, "sendIcn" character varying, "senderName" character varying, "senderId" character varying, "totalCharge" integer, "claimStatusId" character varying, "cond_date" character varying, "onset_date" character varying, "hosp_from_date" character varying, "hosp_thru_date" character varying, "clia_number" character varying, "facility_name" character varying, "facility_addr_1" character varying, "facility_addr_2" character varying, "facility_city" character varying, "facility_state" character varying, "facility_zip" character varying, "facility_npi" character varying, "facility_id" character varying, "prov_name_l" character varying, "prov_name_f" character varying, "prov_name_m" character varying, "prov_npi" character varying, "ord_name_l" character varying, "ord_name_f" character varying, "ord_name_m" character varying, "ord_npi" character varying, "place_of_service_1" character varying, "chg_facility_name" character varying, "chg_facility_addr_1" character varying, "chg_facility_addr_2" character varying, "chg_facility_city" character varying, "chg_facility_state" character varying, "chg_facility_zip" character varying, "chg_facility_npi" character varying, "facility_clia" character varying, "ord_prov_name_l" character varying, "ord_prov_name_f" character varying, "ord_prov_name_m" character varying, "ord_prov_npi" character varying, "diag_1" character varying, "diag_2" character varying, "diag_3" character varying, "diag_4" character varying, "diag_5" character varying, "diag_6" character varying, "diag_7" character varying, "diag_8" character varying, "diag_9" character varying, "diag_10" character varying, "diag_11" character varying, "diag_12" character varying, "pat_name_m" character varying, "pat_addr_2" character varying, "pat_country" character varying, "pat_phone" character varying, "pat_marital" character varying, "ins_name_l" character varying, "ins_name_f" character varying, "ins_name_m" character varying, "ins_addr_1" character varying, "ins_addr_2" character varying, "ins_city" character varying, "ins_state" character varying, "ins_zip" character varying, "ins_group" character varying, "ins_dob" character varying, "ins_sex" character varying, "employment_related" character varying, "auto_accident" character varying, "other_accident" character varying, "ref_name_l" character varying, "ref_name_f" character varying, "ref_name_m" character varying, "ref_id" character varying, "ref_npi" character varying, "cond" "public"."claim_cond_enum", "onset" "public"."claim_onset_enum", "payer_order" "public"."claim_payer_order_enum", "claim_form" character varying, "payerid" character varying, "payer_name" character varying, "pat_name_l" character varying, "pat_name_f" character varying, "pat_addr_1" character varying, "pat_city" character varying, "pat_state" character varying, "pat_zip" character varying, "pat_dob" character varying, "pat_sex" character varying, "pat_rel" character varying, "ins_number" character varying, "accept_assign" character varying, "total_charge" character varying, "bill_name" character varying, "bill_addr_1" character varying, "bill_addr_2" character varying, "bill_city" character varying, "bill_state" character varying, "bill_zip" character varying, "bill_npi" character varying, "bill_phone" character varying, "bill_taxid" character varying, "bill_taxid_type" character varying, "bill_taxonomy" character varying, "from_date_1" character varying, "thru_date" character varying, "m1" character varying, "m2" character varying, "m3" character varying, "m4" character varying, "units" integer, "diagPointer" character varying, "diag_ref" character varying, "charge" integer, "proc_code" character varying, "createdAt" TIMESTAMP WITH TIME ZONE DEFAULT now(), "updatedAt" TIMESTAMP WITH TIME ZONE DEFAULT now(), CONSTRAINT "PK_466b305cc2e591047fa1ce58f81" PRIMARY KEY ("id"))`);
        await queryRunner.query(`ALTER TABLE "claimStatus" ADD "system" boolean NOT NULL DEFAULT false`);
    }

    public async down(queryRunner: QueryRunner): Promise<void> {
        await queryRunner.query(`ALTER TABLE "claimStatus" DROP COLUMN "system"`);
        await queryRunner.query(`DROP TABLE "claim"`);
        await queryRunner.query(`DROP TYPE "public"."claim_payer_order_enum"`);
        await queryRunner.query(`DROP TYPE "public"."claim_onset_enum"`);
        await queryRunner.query(`DROP TYPE "public"."claim_cond_enum"`);
    }

}
